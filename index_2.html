<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>자기 PR</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <div class="container">
      <h3>
        <button onclick="location.href='index.html'">MAIN</button>
      </h3>
      <nav>
        <ul>
          <li><a href="index_3.html">멘토 등록</a></li>
          <li>|</li>
          <li><a href="index_4.html">멘티 등록</a></li>
          <li>|</li>
          <li><a href="index_1.html">게시판</a></li>
        </ul>
      </nav>
  </header>
  <section class="mentor">
    <h1>멘토</h1>
  </section>
  <section id="features" class="do">
    <ul>
      <li><a href="index_2.html">멘토</a></li>
      <li><a href="index_2(mentee).html">멘티</a></li>
    </ul>
    <div class="container">
      <div class="do-me">
        <div class="do-inner">
          <div id="message-list" style="display: flex; flex-wrap: wrap;"></div>

        </div>
        <div class="do-inner">
          <div class="icon">
            <i class="fa-brands fa-css3-alt"></i>
          </div>
          <div class="content">
            <h3>CSS3</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo culpa magni laboriosam sit excepturi
              quibusdam
              adipisici, vero depitis?</p>
          </div>
        </div>
        <div class="do-inner">
          <div class="icon">
            <i class="fa-brands fa-bootstrap"></i>
          </div>
          <div class="content">
            <h3>BootStrap v5.0</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo culpa magni laboriosam sit excepturi
              quibusdam
              adipisici, vero depitis?</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    function renderMessages() {
      var messageList = document.getElementById('message-list');
      messageList.innerHTML = '';

      // 로컬 스토리지에서 게시글 가져오기
      var messages = JSON.parse(localStorage.getItem('mento_messages') || '[]');

      // 게시글 목록 렌더링
      messages.forEach(function (message, index) {
        var messageContainer = document.createElement('div');
        messageContainer.style.marginRight = '10px';
        messageContainer.style.marginBottom = '10px';

        var messageItem = document.createElement('div');
        messageItem.style.display = 'flex';
        messageItem.style.flexDirection = 'column';

        var usernameElement = document.createElement('strong');
        usernameElement.innerHTML = message.username;

        var emailElement = document.createElement('div');
        emailElement.innerHTML = message.email;

        var messageElement = document.createElement('div');
        messageElement.innerHTML = message.message;

        var deleteButton = document.createElement('button');
        deleteButton.innerHTML = '삭제';
        deleteButton.addEventListener('click', function () {
          var passwordInput = prompt('비밀번호를 입력하세요:');
          if (passwordInput === message.password) {
            deleteMessage(index);
          } else {
            alert('비밀번호가 일치하지 않습니다.');
          }
        });

        messageItem.appendChild(usernameElement);
        messageItem.appendChild(emailElement);
        messageItem.appendChild(messageElement);
        messageItem.appendChild(deleteButton);
        messageContainer.appendChild(messageItem);
        messageList.appendChild(messageContainer);
      });
    }

    // 메시지 삭제
    function deleteMessage(index) {
      var messages = JSON.parse(localStorage.getItem('mento_messages') || '[]');
      messages.splice(index, 1);
      localStorage.setItem('mento_messages', JSON.stringify(messages));
      renderMessages();
    }

    // 초기 게시글 목록 렌더링
    renderMessages();
  </script>
</body>

</html>